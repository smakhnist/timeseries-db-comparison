<!-- clickhouse_config/config.xml -->
<clickhouse>
    <profiles>
        <default>
            <max_memory_usage>15000000000</max_memory_usage> <!-- 15 GB -->
            <max_memory_usage_for_all_queries>0</max_memory_usage_for_all_queries> <!-- no global cap -->
            <max_bytes_before_external_group_by>5000000000</max_bytes_before_external_group_by>
            <max_bytes_before_external_sort>5000000000</max_bytes_before_external_sort>
            <max_threads>8</max_threads> <!-- adjust based on your CPU -->
        </default>
    </profiles>
</clickhouse>